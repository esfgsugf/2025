import streamlit as st
from PIL import Image

st.title("ğŸ“¸ ë§ì¶¤í˜• ìŠ¤í‚¨ì¼€ì–´ ì¶”ì²œ ì•±")

# 1. í”¼ë¶€ íƒ€ì… ì„ íƒ
skin_type = st.selectbox("ë‚´ í”¼ë¶€ íƒ€ì…ì„ ì„ íƒí•˜ì„¸ìš”", ["ê±´ì„±", "ì§€ì„±", "ë³µí•©ì„±", "ë¯¼ê°ì„±"])

# 2. ì¶”ê°€ í…ìŠ¤íŠ¸ ì…ë ¥
additional_info = st.text_area("ì¶”ê°€ë¡œ ì•Œë ¤ì£¼ê³  ì‹¶ì€ í”¼ë¶€ ê³ ë¯¼ì´ë‚˜ ë¯¼ê° ë¶€ìœ„", placeholder="ì˜ˆ: ì™¼ìª½ ë³¼ ì˜ˆë¯¼, í„± ì¢ìŒ€ ì—¬ë“œë¦„")

# 3. ì‚¬ì§„ ì—…ë¡œë“œ (ì„ íƒ)
uploaded_file = st.file_uploader("í”¼ë¶€ ì‚¬ì§„ì„ ì—…ë¡œë“œí•˜ì„¸ìš” (ì„ íƒ)", type=["jpg", "png", "jpeg"])

# 4. AI ë¶„ì„ ë²„íŠ¼
if st.button("AI í”¼ë¶€ ë¶„ì„"):
    if uploaded_file is not None:
        image = Image.open(uploaded_file)
        st.image(image, caption="ì—…ë¡œë“œí•œ í”¼ë¶€ ì‚¬ì§„", use_column_width=True)
        
        # --- ì‹¤ì œ AI ë¶„ì„ ì—°ê²° ê°€ëŠ¥ ---
        st.subheader("âœ¨ AI ë¶„ì„ ê²°ê³¼ (ì˜ˆì‹œ)")
        st.write("- í”¼ë¶€ ìƒíƒœ: ê±´ì¡° + ê°ì§ˆ + ì¼ë¶€ ë¶‰ì€ê¸°")
    else:
        st.warning("ì‚¬ì§„ì„ ì—…ë¡œë“œí•˜ì§€ ì•Šìœ¼ì…¨ìŠµë‹ˆë‹¤. ì§ì ‘ ì…ë ¥í•œ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¶„ì„í•©ë‹ˆë‹¤.")
        st.write("- í”¼ë¶€ ìƒíƒœ: ì…ë ¥ ì •ë³´ ê¸°ë°˜ ì˜ˆì‹œ ë¶„ì„")

# 5. ì¶”ì²œ ì œí’ˆ ë²„íŠ¼
if st.button("ì¶”ì²œ ì œí’ˆ ë³´ê¸°"):
    st.subheader("ğŸ§´ ì¶”ì²œ ì œí’ˆ")
    # ì˜ˆì‹œ ì¶”ì²œ ë¡œì§
    if "ë¶‰ì€ê¸°" in additional_info or (uploaded_file is not None and "ë¶‰ì€ê¸°" in "ì˜ˆì‹œ ë¶„ì„"):
        st.write("- ì‹œì¹´ í† ë„ˆ: ë¼ë¡œìŠˆí¬ì œ ì‹œì¹´ í† ë„ˆ")
        st.write("- ì‹œì¹´ í¬ë¦¼: ë‹¥í„°ìë¥´íŠ¸ ì‹œì¹´í˜ì–´ í¬ë¦¼")
    elif "ê°ì§ˆ" in additional_info:
        st.write("- ê°ì§ˆ ì¼€ì–´ í† ë„ˆ: ë¼ë„¤ì¦ˆ í¬ë¦¼ìŠ¤í‚¨ í† ë„ˆ")
        st.write("- ìˆ˜ë¶„ í¬ë¦¼: ì•„ë²¤ëŠ ì‹œì¹¼íŒŒíŠ¸ í¬ë¦¼")
    else:
        st.write("- ê¸°ë³¸ ë³´ìŠµ í† ë„ˆ/í¬ë¦¼ ì¶”ì²œ")
